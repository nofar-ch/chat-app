{"version":3,"sources":["signUp/edit.png","chatList/messenger.png","chatList/unreadNotification.png","serviceWorker.js","login/styles.js","login/login.js","signUp/styles.js","signUp/signUp.js","chatList/styles.js","chatList/chatList.js","dashboard/styles.js","chatView/styles.js","chatView/chatView.js","chatTextBox/styles.js","chatTextBox/chatTextBox.js","newChat/styles.js","newChat/newChat.js","newGroup/styles.js","newGroup/newGroup.js","groupList/styles.js","popupDeleteUser/styles.js","popupDeleteUser/popupDeleteUser.js","popupReplaceManager/styles.js","popupReplaceManager/popupReplaceManager.js","popupAddUser/styles.js","popupAddUser/popupAddUser.js","groupList/groupList.js","dashboard/dashboard.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","styles","theme","main","width","display","marginLeft","spacing","marginRight","breakpoints","up","paper","marginTop","flexDirection","alignItems","padding","form","submit","noAccountHeader","signUpLink","textDecoration","color","fontWeight","errorText","textAlign","firebase","require","Login","submitLogIn","e","a","preventDefault","auth","signInWithEmailAndPassword","state","email","password","then","props","history","push","error","setState","loginError","userTyping","type","target","value","input","classes","this","className","CssBaseline","Paper","Typography","component","variant","src","style","onSubmit","FormControl","required","fullWidth","margin","InputLabel","htmlFor","Input","autoComplete","autoFocus","id","onChange","Button","to","React","Component","withStyles","unit","hasAccountHeader","logInLink","SignUp","submitSignUp","passwordIsConform","length","signupError","createUserWithEmailAndPassword","authRes","userObj","user","userName","firestore","collection","doc","set","dbError","authError","passwordConf","Logo","root","backgroundColor","palette","background","height","position","left","boxShadow","overflow","listItem","cursor","newChatBtn","borderRadius","border","createGroupBtn","unreadMessage","top","right","purple","getContrastText","deepPurple","img","icons","ChatList","newChat","newChatBtnFn","selectChat","index","selectedChatFn","userIsSender","chat","messages","sender","userEmail","newGroup","newGroupBtnFn","isRead","chats","undefined","onClick","List","map","key","ListItem","selected","selectedChatIndex","ListItemAvatar","Avatar","alt","usersNames","filter","usr","split","nameOfGroup","ListItemText","primary","secondary","Fragment","message","substring","receiverHasRead","userIsRead","ListItemIcon","UnreadNotification","Divider","signOutBtn","bottom","mainContainer","mainContainerChatView","float","content","boxSizing","userSent","clear","wordWrap","friendSent","chatHeader","fontSize","paddingTop","timestamp","senderName","btn","ChatView","componentDidUpdate","document","getElementById","container","scrollTo","scrollHeight","deleteChat","deleteChatFn","showGroupList","showGroupListFn","size","startIcon","msg","sendBtn","chatTextBoxContainer","chatTextBox","emojiButton","cssFloat","emojiMenu","ChatTextBox","keyCode","submitMessage","chatText","messageValid","text","replace","typingFocus","MessageReadFn","submitMessageFn","showEmojisMenu","addEmoji","emoji","native","addEventListener","closeEmojisMenu","textBox","contains","textField","TextField","placeholder","onKeyUp","onFocus","String","fromCodePoint","onSelect","emojiTooltip","NewChat","submitNewChat","userExist","chatExist","goToChat","createChat","sendDetailsNewChat","name","createNewChatFn","sendTo","sendToName","get","exists","data","goToChatFn","buildDocKey","currentUser","sort","join","docKey","userSnapShot","exist","docs","includes","notMyUser","htmlform","userList","NewGroup","componentDidMount","manager","onAuthStateChanged","onSnapshot","res","friends","friend","Checkbox","marked","inputProps","friendEmail","checked","addFriends","users","removeFriends","submitNewGroup","that","console","log","nameError","sendData","catch","errorExistName","addManager","groupObj","createNewGroupFn","ol","li","transition","liManager","delete","btnAddUser","btnExitGroup","popup","popupInner","userToDelete","yesToDeleteFn","NoToDeleteFn","iconSelect","newManagerSelected","currentManager","newManager","newManagerSelectedFn","doneNewManagerSelectedFn","item","iconAddThisUser","addThisUserFn","GroupList","deleteUser","popupDeleteUser","popupReplaceManager","popupAddUser","yesToDelete","delelteUserFromGroupListFn","noToDelete","replaceManager","doneNewManagerSelected","doneReplaceManangerFn","addUser","addThisUser","addUserToGroupFn","exitGroup","exitGroupFn","groupList","Dashboard","ref","where","curUserName","curUser","selectedChat","chatIndex","newChatFormVisible","newGroupFormVisible","MessageRead","newChatBtnClicked","newGroupBtnClicked","signOut","clickedCheckWhereNotSender","messageLastIndex","userFriend","update","FieldValue","arrayUnion","today","Date","now","getHours","getMinutes","getDate","getMonth","createNewChat","NewChatObj","userSeperate","findChat","find","every","findChatIndex","indexOf","createNewGroup","NewGroupObj","delelteUserFromGroupList","doneReplaceMananger","addUserToGroup","filterUser","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ReactDOM","render","basename","exact","path","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2773e954.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/edit.66a43e3e.png\";","module.exports = __webpack_public_path__ + \"static/media/messenger.cf3b5c0d.png\";","module.exports = \"data:image/png;base64,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\"","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const styles = theme => ({\r\n    main: {\r\n      width: 'auto',\r\n      display: 'block', // Fix IE 11 issue.\r\n      marginLeft: theme.spacing() * 3,\r\n      marginRight: theme.spacing() * 3,\r\n      [theme.breakpoints.up(400 + theme.spacing() * 3 * 2)]: {\r\n        width: 400,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n      },\r\n    },\r\n    paper: {\r\n      marginTop: theme.spacing() * 8,\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      padding: `${theme.spacing() * 2}px ${theme.spacing() * 3}px ${theme.spacing() * 3}px`,\r\n    },\r\n    form: {\r\n      width: '100%',\r\n      marginTop: theme.spacing(),\r\n    },\r\n    submit: {\r\n      marginTop: theme.spacing() * 3,\r\n    },\r\n    noAccountHeader: {\r\n      width: '100%'\r\n    },\r\n    signUpLink: {\r\n      width: '100%',\r\n      textDecoration: 'none',\r\n      color: '#303f9f',\r\n      fontWeight: 'bolder'\r\n    },\r\n    errorText: {\r\n      color: 'red',\r\n      textAlign: 'center'\r\n    }\r\n  });\r\n  \r\n  export default styles;\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport styles from './styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Input from '@material-ui/core/Input';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst firebase = require(\"firebase\");\r\n\r\nclass Login extends React.Component {\r\n\r\nconstructor() {\r\n    super();\r\n    this.state = {\r\n        email: null,\r\n        password: null,\r\n        loginError: null\r\n    };\r\n}\r\nsubmitLogIn = async  (e) => {\r\n    e.preventDefault();\r\n    \r\n    await firebase\r\n    .auth()\r\n    .signInWithEmailAndPassword(this.state.email, this.state.password)\r\n    .then(() => {\r\n        this.props.history.push('/');\r\n    }, error => {\r\n        this.setState({loginError: 'Server error'});\r\n    });\r\n}\r\n\r\nuserTyping = (type, e) => {\r\n    if(e.target.value) {\r\n        var input = e.target.value;\r\n        switch (type) {\r\n            case 'email':  \r\n                this.setState({email: input});\r\n                break;\r\n            case 'password':\r\n                this.setState({password: input});\r\n                break\r\n            default:\r\n                break;\r\n\r\n            }\r\n        }\r\n}\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n\r\n        return (\r\n        <main className={classes.main}>\r\n        <CssBaseline></CssBaseline>\r\n            <Paper className={classes.paper}>\r\n                <Typography component='h1' variant='h4'>Log In!\r\n                <img src=\"https://img.icons8.com/cotton/64/000000/login-rounded-right--v1.png\" style={{width: 30, marginLeft: 10}}/>\r\n                </Typography>\r\n\r\n            \r\n            <form className={classes.form} onSubmit={(e) => this.submitLogIn(e)}>\r\n            <FormControl required fullWidth margin='normal'>\r\n            <InputLabel htmlFor='login-email-input'>Enter your email</InputLabel>\r\n            <Input autoComplete='email' autoFocus id='login-email-input' onChange={(e) => this.userTyping('email', e)}></Input>\r\n            </FormControl>\r\n\r\n            <FormControl required fullWidth margin='normal'>\r\n            <InputLabel htmlFor='login-password-input'>Enter your password</InputLabel>\r\n            <Input type='password' id='login-password-input' onChange={(e) => this.userTyping('password', e)}></Input>\r\n            </FormControl>\r\n\r\n            <Button type='submit' fullWidth variant='contained' color='primary' className={classes.submit}>Log In</Button>           \r\n            </form>\r\n            {\r\n                this.state.loginError ? //some error?\r\n                <Typography className={classes.errorText} component='h5' variant='h6'>\r\n                    Incorrect Login Information\r\n                </Typography> \r\n                : null\r\n            }\r\n            <br/>\r\n            <Typography component='h6' variant='h6' className={classes.noAccountHeader}>Don't Have An Account?</Typography>                \r\n            <Link className={classes.signUpLink} to='/signup'>Sign Up!</Link>\r\n                \r\n      </Paper>\r\n        </main>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(Login);","const styles = theme => ({\r\n    main: {\r\n      width: 'auto',\r\n      display: 'block', // Fix IE 11 issue.\r\n      marginLeft: theme.spacing.unit * 3,\r\n      marginRight: theme.spacing.unit * 3,\r\n      [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n        width: 400,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n      },\r\n    },\r\n    paper: {\r\n      marginTop: theme.spacing.unit * 8,\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n    },\r\n    form: {\r\n      width: '100%',\r\n      marginTop: theme.spacing.unit,\r\n    },\r\n    submit: {\r\n      marginTop: theme.spacing.unit * 3,\r\n    },\r\n    noAccountHeader: {\r\n      width: '100%'\r\n    },\r\n    hasAccountHeader: {\r\n      width: '100%'\r\n    },\r\n    signUpLink: {\r\n      width: '100%',\r\n      textDecoration: 'none',\r\n      color: '#303f9f',\r\n      fontWeight: 'bolder'\r\n    },\r\n    logInLink: {\r\n      width: '100%',\r\n      textDecoration: 'none',\r\n      color: '#303f9f',\r\n      fontWeight: 'bolder'\r\n    },\r\n    errorText: {\r\n      color: 'red',\r\n      textAlign: 'center', \r\n      fontWeight: 'bold'\r\n\r\n    }\r\n  });\r\n  \r\n  export default styles;","import React from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport styles from './styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Input from '@material-ui/core/Input';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport Logo from './edit.png';\r\nimport { firestore } from '../../node_modules/firebase';\r\n\r\nconst firebase = require(\"firebase\");\r\n\r\nclass SignUp extends React.Component {\r\n\r\nconstructor() {\r\n    super();\r\n    this.state = {\r\n        userName: null,\r\n        email: null,\r\n        password: null,\r\n        passwordConf: null, \r\n        signupError: ''\r\n    };\r\n}\r\n    submitSignUp = (e) => {\r\n        e.preventDefault();\r\n        if(!this.passwordIsConform()) //not conform\r\n            this.setState({signupError: 'password not match'})\r\n        else {\r\n            if(this.state.password.length < 6)\r\n            {\r\n                this.setState({signupError: 'Password should be at least 6 characters'})\r\n                return;\r\n\r\n            }\r\n            firebase\r\n            .auth()  \r\n            .createUserWithEmailAndPassword(this.state.email, this.state.password)\r\n            .then( (authRes) => {\r\n                const userObj = {\r\n                    email: authRes.user.email,\r\n                    userName: this.state.userName\r\n                };\r\n                firestore()\r\n                .collection('users')\r\n                .doc(this.state.email)\r\n                .set(userObj)\r\n                .then( () => {\r\n                    this.props.history.push('/')\r\n                }, dbError => {\r\n                    //database error\r\n                    this.setState({signupError : 'Failed to add user'});\r\n                });\r\n                },\r\n                authError => {\r\n                    //auth error\r\n                    this.setState({signupError : 'Failed to add user'});\r\n                });\r\n    }\r\n}\r\n    \r\n    userTyping = (type, e) => {\r\n       if(e.target.value) {\r\n            var input = e.target.value;\r\n        switch(type) {\r\n            case 'userName':\r\n                this.setState({userName : input});\r\n                break;\r\n            case 'email':\r\n                this.setState({email : input});\r\n                break;\r\n            case 'password':\r\n                this.setState({password : input});\r\n                break;\r\n            case 'password-conformation':\r\n                this.setState({passwordConf : input});\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        }\r\n    }\r\n\r\n    passwordIsConform = () => {\r\n        return this.state.password === this.state.passwordConf;\r\n    }\r\n\r\n    render() {\r\n    const {classes} = this.props;\r\n\r\n        return (\r\n            <main className={classes.main}>\r\n            <CssBaseline></CssBaseline>\r\n            <Paper className={classes.paper}>\r\n    \r\n    <Typography component='h1' variant='h4'>\r\n        Sign Up!  \r\n        <img src={Logo} style={{width: 30, marginLeft: 20}}/>\r\n    </Typography>\r\n    \r\n    <form onSubmit={(e) => this.submitSignUp(e)} className={classes.form}>\r\n    \r\n    <FormControl required fullWidth margin='normal'>\r\n    <InputLabel htmlFor='signup-name-input'>Enter your name</InputLabel>\r\n    <Input type='text' autoFocus id='signup-name-input' onChange={(e) => this.userTyping('userName', e)}></Input>\r\n    </FormControl>\r\n\r\n    <FormControl required fullWidth margin='normal'>\r\n    <InputLabel htmlFor='signup-email-input'>Enter your email</InputLabel>\r\n    <Input autoComplete='email' onChange={(e) => this.userTyping('email', e)} id='signup-email-input'></Input>\r\n    </FormControl>\r\n   \r\n    <FormControl required fullWidth margin='normal'>\r\n    <InputLabel htmlFor='signup-password-input'>Create your password</InputLabel>\r\n    <Input type='password' id='signup-password-input' onChange={(e) => this.userTyping('password', e)}></Input>\r\n    </FormControl>\r\n\r\n    <FormControl required fullWidth margin='normal'>\r\n    <InputLabel htmlFor='signup-password-conformation-input'>Confirm your password</InputLabel>\r\n    <Input type='password' id='signup-password-conformation-input' onChange={(e) => this.userTyping('password-conformation', e)}></Input>\r\n    </FormControl>\r\n\r\n<Button type='submit' fullWidth variant='contained' color='primary' className={classes.submit}>Submit</Button>\r\n    </form>\r\n    {\r\n        this.state.signupError ? //some error?\r\n        <Typography className={classes.errorText} component='h5' variant='h6'>\r\n            {this.state.signupError}\r\n        </Typography>\r\n        : null\r\n    }\r\n    <br/>\r\n    <Typography component='h5' variant='h6' className={classes.hasAccountHeader}>Already has an account</Typography>\r\n    <Link className={classes.logInLink} to='/login'>Log In!</Link>    </Paper>\r\n    </main>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(SignUp);","import {deepPurple} from '@material-ui/core/colors';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n      backgroundColor: theme.palette.background.paper,\r\n      height: '98%',\r\n      position: 'absolute',\r\n      left: '0',\r\n      width: '20%',\r\n      boxShadow: '0px 0px 2px black',\r\n      overflow: 'auto'\r\n    },\r\n    listItem: {\r\n      cursor: 'pointer'\r\n    },\r\n    newChatBtn: {\r\n      borderRadius: '1px',\r\n      border: '1px solid'\r\n    },\r\n    createGroupBtn: {\r\n      borderRadius: '1px',\r\n      border: '1px solid'\r\n    },\r\n    unreadMessage: {\r\n      width: '30px',\r\n      position: 'absolute',\r\n      top: '0',\r\n      right: '5px'\r\n    },\r\n    purple: {\r\n      color: theme.palette.getContrastText(deepPurple[500]),\r\n      backgroundColor: deepPurple[500],\r\n    },\r\n    img: {\r\n      width: '10%',\r\n      marginLeft: '2%'\r\n    },\r\n    icons: {\r\n      marginLeft: '4%'\r\n    }\r\n  });\r\n  \r\n  export default styles;","import React from 'react';\r\nimport styles from './styles';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Divider, List, ListItem, ListItemAvatar, Avatar, ListItemText, ListItemIcon} from '@material-ui/core';\r\nimport Logo from './messenger.png';\r\nimport UnreadNotification from './unreadNotification.png';\r\nimport GroupAddIcon from '@material-ui/icons/GroupAdd';\r\nimport AddCommentIcon from '@material-ui/icons/AddComment';\r\n\r\nclass ChatList extends React.Component {\r\n\r\n    constructor(){\r\n        super();\r\n        this.state = ({isRead: false});\r\n\r\n    }\r\n\r\n    newChat = () => {\r\n        this.props.newChatBtnFn();\r\n    }\r\n\r\n    selectChat = (index) => {\r\n        this.props.selectedChatFn(index);\r\n    }\r\n\r\n    userIsSender = (chat) => {\r\n        return chat.messages[chat.messages.length - 1].sender \r\n                    === this.props.userEmail;\r\n    }\r\n    newGroup = () => {\r\n        this.props.newGroupBtnFn();\r\n\r\n    }\r\n\r\n    render(){\r\n\r\n        const {classes, chats, userName} = this.props;\r\n            if(chats != undefined) {\r\n                return (<div>\r\n                    <main className={classes.root}>\r\n                    <h2>Hello {this.props.userName}!</h2>\r\n                    <h1>Start To Chat!<img src={Logo} className={classes.img}/></h1>\r\n                    <Button variant='contained' fullWidth color='primary' className={classes.newChatBtn}\r\n                    onClick={this.newChat}>New Message <AddCommentIcon className={classes.icons}/></Button>\r\n                    <Button variant='contained' fullWidth color='primary' className={classes.createGroupBtn}\r\n                    onClick={this.newGroup}>New Group<GroupAddIcon className={classes.icons}/></Button>\r\n                    {\r\n                        chats.length > 0 ? \r\n                        <List>\r\n                        {\r\n                            chats.map((chat, index) => {\r\n                                return (<div key={index}>\r\n                                    <ListItem className={classes.listItem} onClick={() => this.selectChat(index)} selected={this.props.selectedChatIndex === index}\r\n                                    alignItems='flex-start'>\r\n                                    <ListItemAvatar>\r\n                                    <Avatar className={classes.purple} alt='Remi Sharp'>\r\n                                    {\r\n                                        chat.type === 'private' ?\r\n                                        chat.usersNames.filter(usr => usr !== userName)[0].split('')[0] \r\n                                        : chat.nameOfGroup.split('')[0]\r\n                                    }\r\n                                    {\r\n                                    }</Avatar>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText primary={\r\n                                        chat.type === 'private' ?\r\n                                        chat.usersNames.filter(usr => usr !== userName)[0]\r\n                                        : chat.nameOfGroup\r\n                                    }\r\n                                        secondary={\r\n                                            <React.Fragment>\r\n                                                <Typography component='span' color='textPrimary'>\r\n                                                {\r\n                                                    chat.messages[chat.messages.length - 1].message.substring(0, 30) //last message\r\n                                                }\r\n                                            </Typography>\r\n                                            </React.Fragment>\r\n                                        }>\r\n                                    </ListItemText>\r\n                                    {\r\n                                        \r\n                                        ((chat.receiverHasRead !== undefined && !chat.receiverHasRead && ! this.userIsSender(chat)) \r\n                                            || \r\n                                            (chat.userIsRead !== undefined && \r\n                                                ((chat.userIsRead.filter(user => user === this.props.userEmail)).length <= 0) && \r\n                                                ! this.userIsSender(chat))) ?\r\n                                            <ListItemIcon>\r\n                                                    <img className={classes.unreadMessage} src={UnreadNotification}/>\r\n                                                </ListItemIcon>\r\n                                                : null\r\n                                    }\r\n                                    </ListItem> \r\n                                    <Divider></Divider>\r\n                                    </div>);\r\n                            })\r\n                        }\r\n                        </List>\r\n                        : null\r\n                    }\r\n                    </main>\r\n                    \r\n            \r\n                    </div>)\r\n            }\r\n            else {\r\n                return(\r\n                <main className={classes.root}>\r\n                    <Button variant='contained' fullWidth color='primary' className={classes.newChatBtn}\r\n                    onClick={this.newChat}>New Message</Button>\r\n                    <List></List>\r\n                </main>);\r\n            }\r\n        }\r\n\r\n} \r\nexport default withStyles(styles)(ChatList);","\r\nconst styles = theme => ({\r\n    signOutBtn: {\r\n      position: 'absolute',\r\n      bottom: '0px',\r\n      left: '0px',\r\n      width: '20%',\r\n      borderRadius: '0px',\r\n      backgroundColor: '#227092',\r\n      height: '35px',\r\n      boxShadow: '0px 0px 2px black',\r\n      color: 'white'\r\n    },\r\n    mainContainer: {\r\n      position: 'relative',\r\n      height: '100vh'\r\n    }\r\n  });\r\n  \r\n  export default styles;","\r\nconst styles = theme => ({\r\n\r\n    mainContainerChatView: {\r\n      position: 'relative',\r\n      width: '80%',\r\n      float: 'right',\r\n      height: 'calc(100vh - 70px)'\r\n  },\r\n    content: {\r\n      position: 'absulote',\r\n      height: 'calc(100% - 50px)',\r\n      overflow: 'auto',\r\n      padding: '2%',\r\n      boxSizing: 'border-box',\r\n      top: '50px',\r\n      width: '100%'\r\n    },\r\n  \r\n    userSent: {\r\n      float: 'left',\r\n      clear: 'both',\r\n      padding: '2%',\r\n      boxSizing: 'border-box',\r\n      wordWrap: 'break-word',\r\n      marginTop: '2%',\r\n      backgroundColor: '#ADD8E6',\r\n      color: 'black',\r\n      width: '20%',\r\n      borderRadius: '10px',\r\n    },\r\n  \r\n    friendSent: {\r\n      float: 'right',\r\n      clear: 'both',\r\n      padding: '2%',\r\n      boxSizing: 'border-box',\r\n      wordWrap: 'break-word',\r\n      marginTop: '2%',\r\n      backgroundColor: '#E6E6FA',\r\n      color: 'black',\r\n      width: '20%',\r\n      borderRadius: '10px', \r\n    },\r\n  \r\n    chatHeader: {\r\n      position: 'absulote',\r\n        width: '100%',\r\n        height: '50px',\r\n        backgroundColor: '#344195',\r\n        right: '0',\r\n        top: '2px',\r\n        fontSize: '18px',\r\n        textAlign: 'center',\r\n        color: 'white',\r\n        paddingTop: '10px',\r\n        boxSizing: 'border-box'\r\n      },\r\n\r\n      timestamp: {\r\n        fontSize: '10px',\r\n        textAlign: 'right',\r\n      \r\n      },\r\n\r\n      senderName: {\r\n        color: 'blue',\r\n        fontSize: '10px',\r\n        float: 'left' \r\n      },\r\n      btn: {\r\n        position: 'absolute',\r\n        left: '1%',\r\n        textAlign: 'center',\r\n      }\r\n      \r\n  });\r\n  \r\n  export default styles;","import React from 'react';\r\nimport styles from './styles';\r\nimport {withStyles, Button} from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nclass ChatView extends React.Component {\r\n\r\n\r\n    componentDidUpdate = async () => {\r\n        const container = await document.getElementById('chatView-container');\r\n        if(container)\r\n            container.scrollTo(0, container.scrollHeight);\r\n        }\r\n\r\n    deleteChat = () => {\r\n        this.props.deleteChatFn();\r\n    }\r\n\r\n    showGroupList = () => {\r\n        this.props.showGroupListFn();\r\n    }\r\n\r\n    render(){\r\n        const {classes, chat, userEmail}= this.props;\r\n\r\n        if(chat === undefined) {\r\n            return (<main></main>)\r\n        }\r\n        else {\r\n            return(<div className={classes.mainContainerChatView}>\r\n                <div className={classes.chatHeader}>\r\n                    { \r\n                        chat.type === 'private' ?\r\n                        <div>\r\n                            <div className={classes.btn}>\r\n                            <Button variant=\"contained\" color=\"default\" size=\"small\" startIcon={<DeleteIcon/>} onClick={()=>this.deleteChat()}>delete </Button></div>\r\n                            You are chatting with {chat.usersNames.filter(usr => usr !== this.props.userName)[0]}\r\n                        </div>\r\n                        :<div>\r\n                            <div className={classes.btn}>\r\n                            <Button variant=\"contained\" color=\"default\" size=\"small\"  onClick={()=>this.showGroupList()} style={{padding: '3px'}}>friends list</Button></div>\r\n                            You are chatting with {chat.nameOfGroup}\r\n                        </div>\r\n                    }\r\n                </div>\r\n            \r\n            <main id='chatView-container' className={classes.content}><br/><br/><br/>\r\n                {\r\n                    chat.messages.map((msg, index) => {                        \r\n                    return (<div key={index} className={msg.sender === userEmail ? classes.userSent : classes.friendSent}>\r\n                    {\r\n                        msg.sender !== userEmail ?\r\n                        <div className={classes.senderName}>{msg.senderName}</div> : null\r\n                    }\r\n                    <div className={classes.timestamp}>{msg.timestamp}</div>\r\n                    {msg.message}</div>)})\r\n                }\r\n            </main>\r\n            </div>)\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(ChatView);","const styles = theme => ({\r\n\r\n    sendBtn: {\r\n      color: 'blue',\r\n      cursor: 'pointer',\r\n      '&:hover': {\r\n        color: 'gray'\r\n      }\r\n    },\r\n  \r\n    chatTextBoxContainer: {\r\n      position: 'absolute',\r\n      bottom: '2px',\r\n      height: '65px',\r\n      left: '20%',\r\n      boxSizing: 'border-box',\r\n      width: '80%'\r\n    },\r\n  \r\n    chatTextBox: {\r\n      width: '95%'\r\n    },\r\n\r\n    emojiButton: {\r\n      cssFloat: \"right\",\r\n      border: \"none\",\r\n      margin: 0,\r\n      cursor: \"pointer\"\r\n    },\r\n\r\n    emojiMenu: {\r\n      position: \"absolute\",\r\n      right: 0,\r\n      bottom: '20px',\r\n    }\r\n  });\r\n  \r\n  export default styles;","import React from 'react';\r\nimport styles from './styles';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport TextField from '@material-ui/core/TextField'\r\nimport SendIcon from '@material-ui/icons/Send';\r\n\r\nimport 'emoji-mart/css/emoji-mart.css'\r\nimport { Picker } from 'emoji-mart'\r\n\r\nclass ChatTextBox extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            chatText: \"\",\r\n            showEmojisMenu: false\r\n        }\r\n    }\r\n\r\n    userTyping = (e) => {\r\n        e.keyCode === 13 ?\r\n        this.submitMessage() : this.setState({chatText : e.target.value})\r\n    }\r\n\r\n    messageValid = (text) => text && \r\n         text.replace(/\\s/g, '').length; // check if text is't just spaces\r\n    \r\n    typingFocus = () => {\r\n        this.props.MessageReadFn();\r\n    }\r\n    submitMessage = () => {\r\n        if(this.messageValid(this.state.chatText)){\r\n            this.props.submitMessageFn(this.state.chatText);\r\n            document.getElementById('chatTextBox').value = ''; //clear the text box\r\n        }\r\n        this.setState({showEmojisMenu: false})\r\n    }\r\n\r\n    addEmoji = (e) => {\r\n        let emoji = e.native;\r\n        this.setState({chatText: this.state.chatText + emoji});\r\n        document.getElementById('chatTextBox').value = document.getElementById('chatTextBox').value + emoji;\r\n      }\r\n\r\n      showEmojisMenu = () => {\r\n          this.setState({showEmojisMenu : true},\r\n            () => document.addEventListener(\"click\", (e) => this.closeEmojisMenu(e)));\r\n      }\r\n\r\n      closeEmojisMenu = (e) => {\r\n       const textBox =  document.getElementById('chatTextBox')\r\n       if(textBox !== null && textBox.contains(e.target)) {\r\n            this.setState({showEmojisMenu: false});\r\n      }\r\n    }\r\n\r\n    render(){\r\n        const {classes} = this.props;\r\n        return (<div>\r\n            <div className={classes.chatTextBoxContainer}>\r\n            <div className={classes.textField}>\r\n                <TextField placeholder='Typing your message...'\r\n                onKeyUp={(e) => this.userTyping(e)}\r\n                    id='chatTextBox'\r\n                    className={classes.chatTextBox}\r\n                    onFocus={this.typingFocus}\r\n                ></TextField>\r\n                <SendIcon className={classes.sendBtn} onClick={this.submitMessage}></SendIcon>\r\n                <p className={classes.emojiButton} onClick={(e) => this.showEmojisMenu(e)}>\r\n                    {String.fromCodePoint(0x1f60a)}\r\n                </p>\r\n            </div>\r\n            </div>\r\n            {\r\n            this.state.showEmojisMenu ?\r\n            <span className={classes.emojiMenu}>\r\n                <Picker id=\"emojisMenu\" onSelect={this.addEmoji} emojiTooltip={true}/>\r\n            </span> : null\r\n            }\r\n            </div>)\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(ChatTextBox);","const styles = theme => ({\r\n    main: {\r\n      width: 'auto',\r\n      display: 'block', // Fix IE 11 issue.\r\n      marginLeft: theme.spacing() * 3,\r\n      marginRight: theme.spacing() * 3,\r\n      [theme.breakpoints.up(400 + theme.spacing() * 3 * 2)]: {\r\n        width: 400,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n      },\r\n    },\r\n    paper: {\r\n      padding: `${theme.spacing() * 2}px ${theme.spacing() * 3}px ${theme.spacing() * 3}px`,\r\n      position: 'absolute',\r\n      width: '350px',\r\n      top: '50px',\r\n      left: 'calc(50% + 150px - 175px)'\r\n    },\r\n    input: {\r\n    },\r\n    form: {\r\n      width: '100%',\r\n      marginTop: theme.spacing(),\r\n    },\r\n    submit: {\r\n      marginTop: theme.spacing() * 3\r\n    },\r\n    errorText: {\r\n      color: 'red',\r\n      textAlign: 'center'\r\n    }\r\n\r\n  });\r\n  \r\n  export default styles;","import React from 'react';\r\nimport styles from './styles';\r\nimport {FormControl, InputLabel, Input, Paper, withStyles, CssBaseline, Typography} from '@material-ui/core';\r\nimport Button from '@material-ui/core/Button';\r\nvar firebase = require('firebase');\r\n\r\nclass NewChat extends React.Component {\r\n\r\n\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            userEmail: null,\r\n            message: null,\r\n            error: false,\r\n            sendToName: null\r\n        };\r\n    }\r\n\r\n    userTyping(type, e){\r\n        switch(type){\r\n            case 'userEmail':\r\n                this.setState({userEmail: e.target.value})\r\n                break;\r\n            case 'message':\r\n                this.setState({message: e.target.value})\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    submitNewChat = async (e) => {\r\n        e.preventDefault();\r\n        const userExist = await this.userExist();\r\n        if(userExist){\r\n            const chatExist = await this.chatExist();\r\n            chatExist ?\r\n            this.goToChat() : this.createChat()\r\n        }\r\n        else {\r\n            this.setState({error : true});\r\n        }\r\n    }\r\n\r\n    sendDetailsNewChat = (name) => {\r\n        this.props.createNewChatFn({\r\n            sendTo: this.state.userEmail,\r\n            message: this.state.message,\r\n            sendToName: name\r\n            });  \r\n    }\r\n\r\n    createChat = async () => {\r\n        const user = await firebase\r\n        .firestore()\r\n        .collection('users').doc(this.state.userEmail);\r\n\r\n        user.get().then((doc) => {\r\n            if (doc.exists) {\r\n                this.sendDetailsNewChat(doc.data().userName);  \r\n            } \r\n            else {\r\n                //user does not exist\r\n            }       \r\n        });        \r\n    }\r\n\r\n    goToChat = () => {\r\n        this.props.goToChatFn(this.buildDocKey(), this.state.message);\r\n    }\r\n\r\n    buildDocKey = () => {\r\n        return [firebase.auth().currentUser.email, this.state.userEmail].sort().join(':');\r\n        \r\n    }\r\n\r\n    chatExist = async () => {\r\n        const docKey = await this.buildDocKey();\r\n        const chat = await firebase\r\n        .firestore()\r\n        .collection('chats')\r\n        .doc(docKey)\r\n        .get();\r\n\r\n        return chat.exists;\r\n    }\r\n\r\n    userExist = async () => {\r\n        const userSnapShot = await firebase\r\n        .firestore()\r\n        .collection('users')\r\n        .get();\r\n\r\n        const exist = userSnapShot.docs.map(doc => doc.data().email)\r\n        .includes(this.state.userEmail);\r\n        const notMyUser = exist && (this.state.userEmail !== firebase.auth().currentUser.email); //also not my user email\r\n        return notMyUser; \r\n}\r\n\r\n\r\n\r\n    render(){\r\n\r\n        const {classes} = this.props;\r\n        return(\r\n        <main className={classes.main}>\r\n        <CssBaseline></CssBaseline>\r\n        <Paper className={classes.paper}>\r\n            <Typography component='h1' variant='h5'>Send A Message!</Typography>\r\n            <form className={classes.form} onSubmit={(e)=> this.submitNewChat(e)}>\r\n            \r\n            <FormControl fullWidth>\r\n                <InputLabel htmlform='new-chat-user-email'>\r\n                    Enter Your Friends Email\r\n                </InputLabel>\r\n                <Input id='new-chat-user-email' required className={classes.input} autoFocus \r\n                onChange={(e) => this.userTyping('userEmail', e)}></Input>\r\n            </FormControl>\r\n\r\n             <FormControl fullWidth>\r\n             <InputLabel htmlform='enter-your-message'>\r\n                    Enter Your Message\r\n                </InputLabel>\r\n                <Input id='enter-your-message' required className={classes.input} \r\n                onChange={(e) => this.userTyping('message', e)}></Input>\r\n                </FormControl><br/>\r\n                {\r\n                    this.state.error ?\r\n                    <div className={classes.errorText}>this user does not exist</div> :\r\n                    null\r\n                }\r\n\r\n                <Button type='submit' fullWidth className={classes.submit} variant='contained' color='primary'>\r\n                    Submit\r\n                </Button>\r\n        </form>\r\n        </Paper>\r\n        \r\n        \r\n        </main>)\r\n    }\r\n}\r\nexport default withStyles(styles)(NewChat);","const styles = theme => ({\r\n    main: {\r\n      width: 'auto',\r\n      display: 'block', // Fix IE 11 issue.\r\n      marginLeft: theme.spacing() * 3,\r\n      marginRight: theme.spacing() * 3,\r\n      [theme.breakpoints.up(400 + theme.spacing() * 3 * 2)]: {\r\n        width: 400,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n      },\r\n    },\r\n    paper: {\r\n      padding: `${theme.spacing() * 2}px ${theme.spacing() * 3}px ${theme.spacing() * 3}px`,\r\n      position: 'absolute',\r\n      width: '350px',\r\n      top: '50px',\r\n      left: 'calc(50% + 150px - 175px)'\r\n    },\r\n    input: {\r\n    },\r\n    form: {\r\n      width: '100%',\r\n      marginTop: theme.spacing(),\r\n    },\r\n    submit: {\r\n      marginTop: theme.spacing() * 3\r\n    },\r\n    errorText: {\r\n      color: 'red',\r\n      textAlign: 'center'\r\n    },\r\n    userList: {\r\n      overflow: 'auto',\r\n      height: '300px',\r\n    }\r\n\r\n  });\r\n  \r\n  export default styles;","import React from 'react';\r\nimport styles from './styles';\r\nimport {FormControl, InputLabel, Input, Paper, withStyles, CssBaseline, Typography, Button} from '@material-ui/core';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport GroupIcon from '@material-ui/icons/Group';\r\n\r\nvar firebase = require('firebase')\r\n\r\n\r\nclass NewGroup extends React.Component {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {nameOfGroup: null,\r\n                        manager: null,\r\n                        friends: [],\r\n                        users: [],\r\n                        errorExistName: false,\r\n        };\r\n    }  \r\n\r\n    componentDidMount = async () => {\r\n        this.setState({manager: this.props.userEmail})\r\n        await firebase\r\n        .auth()\r\n        .onAuthStateChanged(async user => {\r\n        await firebase\r\n        .firestore()\r\n        .collection('users')\r\n        .onSnapshot(async res => { //real time update\r\n        const friends = res.docs.map((friend, index) => {\r\n            if (friend.data().email !== user.email){\r\n                \r\n                return <div key={index}><Checkbox\r\n                onChange={(e) => this.marked(e, friend.data().email)}\r\n                inputProps={{ 'aria-label': 'primary checkbox' }}>\r\n                </Checkbox>\r\n                {friend.data().email}\r\n                </div>\r\n            }\r\n            });\r\n        this.setState({friends: friends});\r\n        })\r\n        })\r\n}\r\n\r\n    marked = (e, friendEmail) => {\r\n        if(e.target.checked) { //chosen\r\n            var addFriends = this.state.users;\r\n            addFriends.push(friendEmail);\r\n           this.setState({users: addFriends});\r\n        }\r\n        else \r\n        {\r\n            var removeFriends = this.state.users;\r\n            removeFriends = removeFriends.filter(friend => friend !== friendEmail);\r\n            this.setState({users: removeFriends});\r\n        }\r\n    }\r\n\r\n    userTyping = (e) => {\r\n      this.setState({nameOfGroup: e.target.value});\r\n    }\r\n\r\n    submitNewGroup = (e) => {\r\n        e.preventDefault();\r\n        var that = this; \r\n\r\n        firebase.firestore().collection(\"chats\").doc(this.state.nameOfGroup)\r\n        .get().then(function(doc) { \r\n            console.log(doc)\r\n            if(doc.exists)\r\n                that.nameError();\r\n            else {\r\n                that.sendData();\r\n            }\r\n        }).catch(function(error) {\r\n            console.log(\"Error getting document:\", error);\r\n        });\r\n     }\r\n\r\n     nameError = () => {\r\n         console.log(\"error\")\r\n         this.setState({errorExistName: true})\r\n     }\r\n\r\n     sendData = () => {\r\n        var addManager = this.state.users;\r\n        addManager.push(this.state.manager);\r\n        this.setState({users: addManager});\r\n        var groupObj = { nameOfGroup: this.state.nameOfGroup,\r\n                            manager: this.state.manager,\r\n                            users: this.state.users\r\n                };         \r\n        this.props.createNewGroupFn(groupObj);\r\n     }\r\n\r\n    render() {\r\n\r\n        const {classes} = this.props;\r\n        \r\n        return (<main className={classes.main}>\r\n        <CssBaseline></CssBaseline>\r\n        <Paper className={classes.paper}>\r\n            <Typography component='h1' variant='h5'>Create A New Group! <GroupIcon style={{width: '35'}}/></Typography>\r\n            <form className={classes.form} onSubmit={(e)=> this.submitNewGroup(e)}>\r\n            <FormControl fullWidth>\r\n                <InputLabel htmlform='name-of-group'>\r\n                    Name Of The Group\r\n                </InputLabel>\r\n                <Input id='name-of-group' required className={classes.input} autoFocus \r\n                onChange={(e) => this.userTyping(e)}></Input>\r\n            </FormControl>\r\n            <div className={classes.userList}>\r\n            {\r\n                this.state.friends\r\n            }\r\n            </div>\r\n            <Button type='submit' fullWidth className={classes.submit} variant='contained' color='primary'>\r\n                    Add Group!\r\n            </Button>\r\n            </form>\r\n            {\r\n                this.state.errorExistName ?\r\n                <div className={classes.errorText}>this name already exist</div> : null\r\n            }\r\n            </Paper>\r\n            </main>)\r\n    }\r\n}\r\nexport default withStyles(styles)(NewGroup);","const styles = theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing() * 3,\r\n    marginRight: theme.spacing() * 3,\r\n    [theme.breakpoints.up(400 + theme.spacing() * 3 * 2)]: {\r\n      width: 400,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n   \r\n  },\r\n  paper: {\r\n    padding: `${theme.spacing() * 2}px ${theme.spacing() * 2}px ${theme.spacing() * 2}px`,\r\n    position: 'absolute',\r\n    width: '400px',\r\n    top: '50px',\r\n    left: 'calc(50% + 150px - 175px)',\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(),\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing() * 3\r\n  },\r\n  errorText: {\r\n    color: 'red',\r\n    textAlign: 'center'\r\n  },\r\n  ol: {\r\n    marginTop: 0,\r\n    boxSizing: 'border-box',\r\n    overflow: 'auto',\r\n    height: '195px',\r\n  },\r\n   li: {\r\n    padding: '10px 8px 10px 30px',\r\n    background: '#eee',\r\n    fontSize: '14px',\r\n    transition: '0.2s'\r\n   },\r\n   liManager: {\r\n    background: '#D3D3D3',\r\n    fontSize: '14px',\r\n    transition: '0.2s',\r\n    padding: '10px 8px 10px 30px',\r\n    \r\n   },\r\n   delete: {\r\n    float: 'right',\r\n    cursor: 'pointer'\r\n  },\r\n  btnAddUser: {\r\n    cursor: 'pointer',\r\n    position: 'absolute',\r\n    right: '5px', \r\n    top: '5px', \r\n    width: '80',\r\n    backgroundColor: 'white',\r\n    color: 'black',\r\n    border: '2px solid #008CBA'\r\n  },\r\n  btnExitGroup: {\r\n    position: 'absolute',\r\n    right: '0',\r\n    bottom: '0',\r\n    backgroundColor: '#008CBA',\r\n    color: 'white',\r\n    border: '1px solid #008CBA',\r\n    padding: '6px 18px'\r\n  }\r\n});\r\n\r\nexport default styles;","const styles = theme => ({\r\npopup: {  \r\n    position: 'fixed', \r\n    width: '100%', \r\n    height: '100%',  \r\n    top: '0',  \r\n    left: '0',  \r\n    right: '0',  \r\n    bottom: '0', \r\n    margin: 'auto',  \r\n    backgroundColor: 'rgba(0,0,0, 0.5)'\r\n  },\r\n  popupInner: {  \r\n    position: 'absolute',  \r\n    left: '25%',\r\n    right: '25%', \r\n    top: '25%',  \r\n    bottom: '25%',\r\n    margin: 'auto',\r\n    borderRadius: '20px',  \r\n    background: 'white'  \r\n  }\r\n});\r\n\r\nexport default styles;","import React from 'react'; \r\nimport styles from './styles'; \r\nimport {withStyles} from '@material-ui/core';\r\n \r\nconst PopupDeleteUser = ({text, userToDelete, yesToDeleteFn, NoToDeleteFn}) => {\r\n  return (  \r\n  <div className='popup'>  \r\n  <div className='popupInner'>  \r\n  <h3 style={{color: 'SeaGreen'}}>{text+ \": \"+ userToDelete}?</h3>\r\n  <button onClick={(e) => yesToDeleteFn(e)}>Yes</button>  \r\n  <button onClick={NoToDeleteFn}>No</button>\r\n  </div>  \r\n  </div>  \r\n);  \r\n}  \r\n\r\nexport default withStyles(styles)(PopupDeleteUser);","const styles = theme => ({\r\n    popup: {  \r\n        position: 'fixed', \r\n        width: '100%', \r\n        height: '100%',  \r\n        top: '0',  \r\n        left: '0',  \r\n        right: '0',  \r\n        bottom: '0', \r\n        margin: 'auto',  \r\n        backgroundColor: 'rgba(0,0,0, 0.5)'\r\n      },\r\n      popupInner: {  \r\n        position: 'absolute',  \r\n        left: '25%',\r\n        right: '25%', \r\n        top: '25%',  \r\n        bottom: '25%',\r\n        margin: 'auto',\r\n        borderRadius: '20px',  \r\n        background: 'white',\r\n        overflow: 'auto',\r\n      },\r\n      iconSelect: {\r\n        cursor: 'pointer',\r\n        position: 'absolute',\r\n        right: '10px', \r\n      },\r\n      newManagerSelected: {\r\n        cursor: 'pointer',\r\n        position: 'absolute',\r\n        right: '10px', \r\n        color: 'green' \r\n      }\r\n\r\n    });\r\n    \r\n    export default styles;","import React from 'react'; \r\nimport styles from './styles'; \r\nimport {withStyles} from '@material-ui/core';\r\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\r\n\r\nconst PopupReaplaceManager = ({classes, text, users, currentManager, newManager, newManagerSelectedFn, doneNewManagerSelectedFn}) => {\r\n  return (  \r\n  <div className='popup'>  \r\n  <div className='popupInner'>  \r\n  <h3 style={{color: 'SeaGreen'}}>{text}</h3> \r\n  <ol>\r\n     {\r\n        users.filter(usr => usr != currentManager).map((item, index) => <li key={index}>{item}\r\n        {\r\n         newManager !== item ?\r\n         <CheckCircleOutlineIcon className={classes.iconSelect} onClick={(e)=>newManagerSelectedFn(e, item)}/>\r\n         : <CheckCircleOutlineIcon className={classes.newManagerSelected}/>\r\n        }\r\n        </li>)\r\n        \r\n     }\r\n  </ol>\r\n  <button onClick={(e) => doneNewManagerSelectedFn(e)}>Done</button>\r\n  </div>  \r\n  </div>  \r\n);  \r\n}  \r\n\r\nexport default withStyles(styles)(PopupReaplaceManager);","const styles = theme => ({\r\n    popup: {  \r\n        position: 'fixed', \r\n        width: '100%', \r\n        height: '100%',  \r\n        top: '0',  \r\n        left: '0',  \r\n        right: '0',  \r\n        bottom: '0', \r\n        margin: 'auto',  \r\n        backgroundColor: 'rgba(0,0,0, 0.5)'\r\n      },\r\n      popupInner: {  \r\n        position: 'absolute',  \r\n        left: '25%',\r\n        right: '25%', \r\n        top: '25%',  \r\n        bottom: '25%',\r\n        margin: 'auto',\r\n        borderRadius: '20px',  \r\n        background: 'white',\r\n        overflow: 'auto'\r\n      },\r\n      iconAddThisUser:{\r\n          cursor: 'pointer',\r\n          position: 'absolute',\r\n          right: '5px', \r\n      },\r\n      userList: {\r\n        position: 'relative',\r\n        width: '100%',\r\n        overflow: 'auto',\r\n        height: '150px',\r\n      }, \r\n      li: {\r\n        padding: '8px',\r\n        margin: '8px',\r\n        backgroundColor: '#E6E6FA'\r\n      }\r\n    });\r\n    \r\n    export default styles;","import React from 'react'; \r\nimport styles from './styles'; \r\nimport {withStyles} from '@material-ui/core';\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\n \r\nconst PopupAddUser = ({classes, chat, users, addThisUserFn}) => {\r\n  return (  \r\n  <div className='popup'>  \r\n  <div className='popupInner'>  \r\n  <h2 style={{color: 'SeaGreen'}}>Add Users</h2>\r\n  <div className={classes.userList}>\r\n    <ol>\r\n    {\r\n      users.map((item, index) => {\r\n          if(!chat.users.includes(item.email))\r\n              return <li key={index} className={classes.li}>{item.email}\r\n              <AddCircleOutlineIcon className={classes.iconAddThisUser} \r\n              onClick={(e) => addThisUserFn(e, item.email)}/>\r\n                </li>\r\n      })\r\n    }\r\n    </ol>\r\n  </div>\r\n  </div>  \r\n  </div>  \r\n);  \r\n}  \r\n\r\nexport default withStyles(styles)(PopupAddUser);","import React from 'react';\r\nimport styles from './styles';\r\nimport {withStyles, CssBaseline, Paper, Typography, FormControl} from '@material-ui/core';\r\nimport GroupIcon from '@material-ui/icons/Group';\r\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\r\nimport PopupDeleteUser from '../popupDeleteUser/popupDeleteUser';\r\nimport PopupReaplaceManager from '../popupReplaceManager/popupReplaceManager';\r\nimport PopupAddUser from '../popupAddUser/popupAddUser';\r\n\r\nclass GroupList extends React.Component {\r\n\r\n    constructor(){\r\n        super();\r\n        this.state = ({popupDeleteUser: false, \r\n                        popupReplaceManager: false, \r\n                        popupAddUser: false,\r\n                        userToDelete: null,\r\n                        newManager: null,\r\n                        })\r\n\r\n    }\r\n\r\n    deleteUser = (e, item) => {\r\n        this.setState({popupDeleteUser: true, userToDelete: item, \r\n            popupReplaceManager: false,\r\n            popupAddUser: false});\r\n\r\n    }\r\n\r\n    yesToDelete = (e) => {\r\n        e.preventDefault();\r\n        this.setState({popupDeleteUser: false})\r\n        this.props.delelteUserFromGroupListFn(this.state.userToDelete)\r\n        \r\n    }\r\n\r\n    noToDelete = () => {\r\n        this.setState({popupDeleteUser: false})\r\n    }\r\n\r\n    replaceManager = () => {\r\n        this.setState({popupReplaceManager: true, popupDeleteUser: false, popupAddUser: false, newManager: null});\r\n    }\r\n\r\n    newManagerSelected = (e, item) => {\r\n        this.setState({newManager: item})\r\n    }\r\n\r\n    doneNewManagerSelected = (e) => {\r\n        e.preventDefault();\r\n        this.props.doneReplaceManangerFn(this.state.newManager);\r\n    }\r\n    addUser = (e) => {\r\n        e.preventDefault();\r\n        this.setState({popupAddUser: true, popupReplaceManager: false, popupDeleteUser: false})\r\n    }\r\n\r\n    addThisUser = (e, user) => {\r\n        this.props.addUserToGroupFn(user);\r\n    }\r\n\r\n    exitGroup = () => {\r\n        this.props.exitGroupFn();\r\n    }\r\n\r\n    render() {\r\n            const {classes, chat, userEmail, users} = this.props;\r\n            if(chat === null || chat === undefined) // chat hasn't been updated yet\r\n            return <div></div>\r\n            else {\r\n            const manager = chat.manager;\r\n            const groupListSort = chat.users.sort();\r\n            const groupList = groupListSort.map((item, index) => {\r\n                return <div key={index}>\r\n                {\r\n                    userEmail !== manager && item !== manager? \r\n                    <li className={classes.li}>{item}</li> \r\n                    : \r\n                    userEmail !== manager && item === manager? \r\n                    <li className={classes.li}>{item} - Manager</li> \r\n                    :       \r\n                    userEmail === manager && item !== manager? // just the manager can delete a user\r\n                    <li className={classes.li}>{item}\r\n                    <HighlightOffIcon className={classes.delete} onClick={(e) => this.deleteUser(e, item)}/> </li>\r\n                    :  <li className={classes.liManager}>{manager} - Manager \r\n                        <HighlightOffIcon className={classes.delete} onClick={(e) => this.replaceManager(e, manager)}/></li>    \r\n                }\r\n                </div>\r\n            })\r\n\r\n            return (<main className={classes.main}>\r\n            <CssBaseline></CssBaseline>\r\n            <Paper className={classes.paper}>\r\n                <Typography component='h1' variant='h5'>Group List of {chat.nameOfGroup}<GroupIcon style={{width: '35'}}/></Typography>\r\n                <form className={classes.form} onSubmit={(e)=> this.submitNewGroup(e)}>\r\n                <FormControl fullWidth>\r\n                </FormControl>\r\n                {\r\n                    userEmail === manager ?\r\n                    <button className={classes.btnAddUser} onClick={(e) => this.addUser(e)}>Add Users</button>\r\n                    : null\r\n                }\r\n                {\r\n                    <ol className={classes.ol}>\r\n                        {groupList}\r\n                    </ol>\r\n                }\r\n                {\r\n                    this.state.popupDeleteUser ?\r\n                    <PopupDeleteUser text=\"Are you sure to delete\" userToDelete={this.state.userToDelete}\r\n                        yesToDeleteFn={(e)=>this.yesToDelete(e)} NoToDeleteFn={this.noToDelete}\r\n                    />\r\n                    : null\r\n                }\r\n                {\r\n                    this.state.popupReplaceManager ?\r\n                    <PopupReaplaceManager text=\"Please select another manager\" users={chat.users}\r\n                    newManagerSelectedFn={(e, item) => this.newManagerSelected(e, item)}\r\n                    doneNewManagerSelectedFn={(e) => this.doneNewManagerSelected(e)}\r\n                    newManager={this.state.newManager}\r\n                    currentManager={manager}\r\n                    />\r\n                    : null\r\n                }\r\n                {\r\n                    this.state.popupAddUser ?\r\n                    <PopupAddUser chat={chat} users={users} addThisUserFn={(e, item) => this.addThisUser(e, item)}/>\r\n                    : null\r\n                }\r\n                </form>\r\n                {\r\n                    manager !== userEmail ? // not a manager\r\n                <button className={classes.btnExitGroup} onClick={this.exitGroup}>Exit this group</button> \r\n                : null\r\n                }  \r\n                </Paper>\r\n            </main>)\r\n        }\r\n    }\r\n    }\r\n\r\nexport default withStyles(styles)(GroupList);","import React from 'react';\r\nimport ChatList from '../chatList/chatList'\r\nimport styles from './styles';\r\nimport {withStyles, Button} from '@material-ui/core';\r\nimport ChatView from '../chatView/chatView';\r\nimport ChatTextBox from '../chatTextBox/chatTextBox'\r\nimport NewChat from '../newChat/newChat'\r\nimport NewGroup from '../newGroup/newGroup'\r\nimport GroupList from '../groupList/groupList';\r\n\r\nvar firebase = require('firebase')\r\n\r\nclass Dashboard extends React.Component {\r\n\r\nconstructor() {\r\n    super();\r\n    this.state= {\r\n        selectedChatIndex: null, //index\r\n        newChatFormVisible: false,\r\n        newGroupFormVisible: false,\r\n        email: null,\r\n        userName: null,\r\n        chats: [],\r\n        showGroupList: false,\r\n        users: null\r\n    };\r\n}\r\n\r\ncomponentDidMount = () => {\r\n     firebase\r\n    .auth()\r\n    .onAuthStateChanged(async user => {\r\n        if(!user) { //user didn't login or don't exist\r\n         console.log(\"no user\")\r\n         this.props.history.push('/login'); \r\n        }\r\n        else {\r\n            const ref = firebase.firestore();\r\n            await ref.collection('chats')\r\n            .where('users', 'array-contains', user.email)\r\n            .onSnapshot(res => { //real time update \r\n                const chats = res.docs.map(doc => doc.data())\r\n                 this.setState({\r\n                    email: user.email,\r\n                    chats: chats\r\n                });\r\n            })   \r\n            await ref.collection('users')\r\n            .onSnapshot(res => { //real time update\r\n                const curUserName =  res.docs.map(curUser => curUser.data()).filter(curUser => curUser.email === user.email);\r\n                const users =  res.docs.map(user => user.data())\r\n                     this.setState({userName: curUserName[0].userName,\r\n                                    users: users})\r\n                })    \r\n      }\r\n    })\r\n}\r\n\r\nselectedChat = (chatIndex) => {\r\n     this.setState({selectedChatIndex : chatIndex, newChatFormVisible: false, \r\n                         newGroupFormVisible: false, showGroupList: false}, () => this.MessageRead());\r\n    \r\n}\r\n\r\nnewChatBtnClicked = () => {\r\n    this.setState({newChatFormVisible: true, selectedChatIndex: null, newGroupFormVisible : false});\r\n}\r\n\r\nnewGroupBtnClicked = () => {\r\n    this.setState({newGroupFormVisible: true});\r\n}\r\n\r\nsignOut = () => firebase.auth().signOut();\r\n\r\nclickedCheckWhereNotSender = (chatIndex) => {\r\n    var messageLastIndex = this.state.chats[chatIndex].messages.length - 1;\r\n    return this.state.chats[chatIndex].messages[messageLastIndex].sender !== this.state.email;\r\n}\r\n\r\nMessageRead = async () => {\r\n    const selectedChatIndex = this.state.selectedChatIndex;\r\n    const userFriend = this.state.chats[selectedChatIndex].users.filter(user => user !== this.state.email);\r\n\r\n    if(this.clickedCheckWhereNotSender(this.state.selectedChatIndex)) //not a sender\r\n    {\r\n        if(this.state.chats[selectedChatIndex].type === 'private') { \r\n            const docKey = this.buildDocKey(userFriend[0]); //the user that not me\r\n    \r\n            await firebase\r\n            .firestore()\r\n            .collection('chats')\r\n            .doc(docKey)\r\n            .update({\r\n                receiverHasRead: true});\r\n            }\r\n        else //groop\r\n            {\r\n            const docKey = this.state.chats[selectedChatIndex].nameOfGroup; //the user that not me\r\n\r\n            await firebase\r\n            .firestore()\r\n            .collection('chats')\r\n            .doc(docKey)\r\n            .update({\r\n                userIsRead: firebase.firestore.FieldValue.arrayUnion(\r\n                    this.state.email)\r\n            })\r\n\r\n        }\r\n        \r\n    }\r\n}\r\nsubmitMessage = async (msg) => {\r\n    const users = this.state.chats[this.state.selectedChatIndex]\r\n    .users.filter(user => user !== this.state.email);\r\n    var today = new Date();\r\n    var now = today.getHours() + \":\" + today.getMinutes()+'     '+today.getDate()+'/'+(today.getMonth()+1);\r\n\r\n    if(this.state.chats[this.state.selectedChatIndex].type === 'private') {\r\n        const docKey = this.buildDocKey(users[0]);\r\n\r\n        await firebase\r\n        .firestore().\r\n        collection('chats')\r\n        .doc(docKey)\r\n        .update({\r\n        messages: firebase.firestore.FieldValue.arrayUnion({\r\n            sender: this.state.email,\r\n            message: msg,\r\n            timestamp: now\r\n        }),\r\n        receiverHasRead: false\r\n    });\r\n    }\r\n    else {\r\n        const docKey = this.state.chats[this.state.selectedChatIndex].nameOfGroup;\r\n        await firebase\r\n        .firestore().\r\n        collection('chats')\r\n        .doc(docKey)\r\n        .update({\r\n        messages: firebase.firestore.FieldValue.arrayUnion({\r\n            sender: this.state.email,\r\n            senderName: this.state.userName,\r\n            message: msg,\r\n            timestamp: now\r\n        }),\r\n        userIsRead: []\r\n    })  \r\n    }\r\n}\r\n\r\nbuildDocKey = (friend) => [this.state.email, friend].sort().join(':');\r\n\r\ncreateNewChat = async (NewChatObj) => {\r\n    var today = new Date();\r\n    var now = today.getHours() + \":\" + today.getMinutes()+'     '+today.getDate()+'/'+(today.getMonth()+1);\r\n\r\n    const docKey = this.buildDocKey(NewChatObj.sendTo);\r\n    console.log(docKey)\r\n    await firebase\r\n    .firestore()\r\n    .collection('chats')\r\n    .doc(docKey)\r\n    .set({\r\n        type: 'private',\r\n        receiverHasRead: false,\r\n        users: [this.state.email, NewChatObj.sendTo],\r\n        usersNames: [this.state.userName, NewChatObj.sendToName],\r\n        messages: [{\r\n            message: NewChatObj.message,\r\n            sender: this.state.email,\r\n            timestamp: now\r\n        }]\r\n    });\r\n    this.setState({newChatFormVisible : false});\r\n    this.selectedChat(this.state.chats.length-1);\r\n}\r\n\r\ngoToChat = (docKey, message) => {\r\n    const userSeperate = docKey.split(':');\r\n    const findChat = this.state.chats.find(chat => userSeperate.every(user => chat.users.includes(user)));\r\n    this.setState({newChatFormVisible : false});\r\n    const findChatIndex = this.state.chats.indexOf(findChat);\r\n    this.selectedChat(findChatIndex);\r\n    this.submitMessage(message);\r\n}\r\n\r\ncreateNewGroup = async (NewGroupObj) => {\r\n    var today = new Date();\r\n    var now = today.getHours() + \":\" + today.getMinutes()+'     '+today.getDate()+'/'+(today.getMonth()+1);\r\n    await firebase\r\n    .firestore()\r\n    .collection('chats')\r\n    .doc(NewGroupObj.nameOfGroup)\r\n    .set({\r\n        type: 'group',\r\n        nameOfGroup: NewGroupObj.nameOfGroup,\r\n        manager: NewGroupObj.manager,\r\n        users: NewGroupObj.users,\r\n        messages: [{sender: NewGroupObj.manager,\r\n                    senderName: this.state.userName,\r\n                    timestamp: now,\r\n                    message: 'welcome!'}]\r\n    });\r\n    this.setState({newGroupFormVisible : false});\r\n    this.selectedChat(this.state.chats.length-1); // go to the group\r\n}\r\n\r\ndeleteChat = async () => {\r\n    const docKey = this.buildDocKey(this.state.chats[this.state.selectedChatIndex].\r\n        users.filter(usr => usr != this.state.email))\r\n    await firebase\r\n    .firestore()\r\n    .collection('chats')\r\n    .doc(docKey)\r\n    .delete();\r\n}\r\n\r\nshowGroupList = () => {\r\n    if(!this.state.showGroupList)\r\n        this.setState({showGroupList: true})\r\n}\r\n\r\ndelelteUserFromGroupList = async (userToDelete) => {\r\n    const groupList = this.state.chats[this.state.selectedChatIndex].users.filter(usr => usr !== userToDelete)\r\n    await firebase\r\n    .firestore()\r\n    .collection('chats')\r\n    .doc(this.state.chats[this.state.selectedChatIndex].nameOfGroup)\r\n    .update({\r\n        users: groupList\r\n    });\r\n}\r\n\r\ndoneReplaceMananger = async (newManager) => {\r\n    const docKey = this.state.chats[this.state.selectedChatIndex].nameOfGroup\r\n\r\n    await firebase\r\n    .firestore()\r\n    .collection('chats')\r\n    .doc(docKey)\r\n    .update({\r\n        manager: newManager\r\n    })\r\n    this.setState({showGroupList: false})\r\n}\r\n\r\naddUserToGroup = async (user) => {\r\n    const docKey = this.state.chats[this.state.selectedChatIndex].nameOfGroup\r\n    const groupList = this.state.chats[this.state.selectedChatIndex].users\r\n    groupList.push(user)\r\n    await firebase\r\n    .firestore()\r\n    .collection('chats')\r\n    .doc(docKey)\r\n    .update({\r\n        users: groupList\r\n    });\r\n}\r\n\r\nexitGroup = async () => {\r\n    this.setState({showGroupList: false})\r\n    const docKey = this.state.chats[this.state.selectedChatIndex].nameOfGroup\r\n    const groupList = this.state.chats[this.state.selectedChatIndex].users\r\n    const filterUser = groupList.filter(usr => usr != this.state.email)\r\n    await firebase\r\n    .firestore()\r\n    .collection('chats')\r\n    .doc(docKey)\r\n    .update({\r\n        users: filterUser\r\n    });\r\n    this.setState({showGroupList: false})\r\n}\r\n\r\n    render() \r\n    {\r\n        const {classes} = this.props;\r\n\r\n        return (\r\n            <div className={classes.mainContainer}>\r\n            <ChatList history={this.props.history}\r\n            newChatBtnFn={this.newChatBtnClicked}\r\n            newGroupBtnFn={this.newGroupBtnClicked}\r\n            selectedChatFn={this.selectedChat}\r\n            chats={this.state.chats}\r\n            userEmail={this.state.email}\r\n            userName={this.state.userName}\r\n            selectedChatIndex={this.state.selectedChatIndex}\r\n            />\r\n\r\n        {\r\n            this.state.newChatFormVisible ||  this.state.newGroupFormVisible ? \r\n            null :\r\n            <ChatView userEmail={this.state.email}\r\n                chat={this.state.chats[this.state.selectedChatIndex]}\r\n                chatIndex={this.state.selectedChatIndex}\r\n                userName={this.state.userName}\r\n                deleteChatFn={this.deleteChat}\r\n                showGroupListFn={this.showGroupList}\r\n            />\r\n        }\r\n        {\r\n            this.state.selectedChatIndex !== null && ! this.state.newChatFormVisible ?\r\n            <ChatTextBox submitMessageFn={this.submitMessage} MessageReadFn={this.MessageRead}/> : null\r\n\r\n        }\r\n        {\r\n            this.state.newChatFormVisible ?\r\n            <NewChat createNewChatFn={this.createNewChat} goToChatFn={this.goToChat}/> : null\r\n        }\r\n        {\r\n            this.state.newGroupFormVisible ?\r\n            <NewGroup userEmail={this.state.email} createNewGroupFn={this.createNewGroup}/> : null\r\n        }\r\n        {\r\n            this.state.showGroupList ? \r\n            <GroupList chat={this.state.chats[this.state.selectedChatIndex]} \r\n                userEmail={this.state.email}\r\n                users={this.state.users}\r\n                delelteUserFromGroupListFn={this.delelteUserFromGroupList}\r\n                doneReplaceManangerFn={this.doneReplaceMananger}\r\n                addUserToGroupFn={this.addUserToGroup}\r\n                exitGroupFn={this.exitGroup}\r\n            /> : null\r\n        }\r\n\r\n        <Button className={classes.signOutBtn} onClick={this.signOut}>Sign Out</Button>\r\n        </div>)\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(Dashboard);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\n\nimport {Route, Switch, BrowserRouter as Router} from 'react-router-dom';\nimport Login from './login/login';\nimport SignUp from './signUp/signUp';\nimport Dashboard from './dashboard/dashboard';\nimport'./styles.css';\n\nconst firebase = require(\"firebase\");\nrequire(\"firebase/firestore\");\n\nfirebase.initializeApp({\n    apiKey: \"AIzaSyCkX9Dt5LmOCzhBg7y6Guv6JgN7unr-uOc\",\n    authDomain: \"chatapp-b9036.firebaseapp.com\",\n    databaseURL: \"https://chatapp-b9036.firebaseio.com\",\n    projectId: \"chatapp-b9036\",\n    storageBucket: \"chatapp-b9036.appspot.com\",\n    messagingSenderId: \"422721356006\",\n    appId: \"1:422721356006:web:799f5a13fc6adcef197b27\",\n    measurementId: \"G-JZLN897R23\"\n});\n\nReactDOM.render( <Router basename=\"/chat-app\">\n\n    <div id='routing-container'> \n    <Switch>\n        <Route exact path=\"/\" component={Dashboard}></Route>  \n        <Route path=\"/login\" component={Login}></Route>\n        <Route path=\"/signup\" component={SignUp}></Route>\n    </Switch>\n    </div>\n</Router>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}